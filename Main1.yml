# variables:
# - name: foo
#   value: $(Build)
# - name: fooo
#   value: $(sonarQubeRunAnalysis)
# - name: doc
#   value: $(Docker)
parameters:
  Build: 'Java'
  sonarQubeRunAnalysis: true
  Docker: true
# - name: Build
#   type: string
# - name: sonarQubeRunAnalysis
#   type: string
# - name: Docker
#   type: string
steps:
- task: CmdLine@2
  displayName: Display Variable
  inputs:
    script: |
      MavenBuild=$(Build)
      echo $MavenBuild
      SonarAnalysis=$(sonarQubeRunAnalysis)
      echo $SonarAnalysis
      DockerContainer=$(Docker)
      echo $DockerContainer
- ${{ if eq($(MavenBuild), 'Java') }}:
  - ${{ if eq($SonarAnalysis, true) }}:
    - template: sonarcloudprepare.yml
  - template: MavenBuild.yml
  - ${{ if eq($SonarAnalysis, true) }}:
    - template: SonarCloud.yml
  - ${{ if eq($DockerContainer, true) }}:
    - template: Docker.yml
  - template: PublishArtifact.yml
- ${{ if eq(parameters.Build, 'dotnet') }}:
  - template: dotnetTemplate.yml