parameters:
  # - name: Build
  #   type: string
  - name: sonarQubeRunAnalysis
    type: string
steps:
- ${{ if eq(variables.Java, 'true') }}:
  - ${{ if eq(variables.sonarQubeRunAnalysis, 'true') }}:
    - template: sonarcloudprepare.yml
    # - task: SonarCloudPrepare@1
    #   inputs:
    #     SonarCloud: 'SonarCloud'
    #     organization: "$(organization)"
    #     scannerMode: 'Other'
    #     extraProperties: |
    #       # Additional properties that will be passed to the scanner,
    #       # Put one key=value per line, example:
    #       # sonar.exclusions=**/*.bin
    #         sonar.projectKey="$(project-key)"
    #         sonar.projectName="$(Project-Name)
  - template: MavenBuild.yml
  - ${{ if eq(parameters.sonarQubeRunAnalysis, 'true') }}:
    - template: SonarCloud.yml
  - template: Docker.yml
  - template: PublishArtifact.yml